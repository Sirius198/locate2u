"use strict";(self["webpackChunkblu_explorer"]=self["webpackChunkblu_explorer"]||[]).push([[2819],{2832:function(t,r,e){var o=e(48764)["Buffer"],n=this&&this.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])},t(r,e)};return function(r,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var r,e=1,o=arguments.length;e<o;e++)for(var n in r=arguments[e],r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);return t},i.apply(this,arguments)},a=this&&this.__values||function(t){var r="function"===typeof Symbol&&Symbol.iterator,e=r&&t[r],o=0;if(e)return e.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.ConsensusAlgorithm=r.ConsensusType=r.Hardfork=r.Chain=r.CustomChain=void 0;var s,c,h=e(17187),u=e(34606),f=e(22751),d=e(74083),l=e(37459),p=e(97616);(function(t){t["PolygonMainnet"]="polygon-mainnet",t["PolygonMumbai"]="polygon-mumbai",t["ArbitrumRinkebyTestnet"]="arbitrum-rinkeby-testnet",t["xDaiChain"]="x-dai-chain",t["OptimisticKovan"]="optimistic-kovan",t["OptimisticEthereum"]="optimistic-ethereum"})(s=r.CustomChain||(r.CustomChain={})),function(t){t[t["Mainnet"]=1]="Mainnet",t[t["Ropsten"]=3]="Ropsten",t[t["Rinkeby"]=4]="Rinkeby",t[t["Kovan"]=42]="Kovan",t[t["Goerli"]=5]="Goerli",t[t["Sepolia"]=11155111]="Sepolia"}(r.Chain||(r.Chain={})),function(t){t["Chainstart"]="chainstart",t["Homestead"]="homestead",t["Dao"]="dao",t["TangerineWhistle"]="tangerineWhistle",t["SpuriousDragon"]="spuriousDragon",t["Byzantium"]="byzantium",t["Constantinople"]="constantinople",t["Petersburg"]="petersburg",t["Istanbul"]="istanbul",t["MuirGlacier"]="muirGlacier",t["Berlin"]="berlin",t["London"]="london",t["ArrowGlacier"]="arrowGlacier",t["Shanghai"]="shanghai",t["MergeForkIdTransition"]="mergeForkIdTransition",t["Merge"]="merge"}(c=r.Hardfork||(r.Hardfork={})),function(t){t["ProofOfStake"]="pos",t["ProofOfWork"]="pow",t["ProofOfAuthority"]="poa"}(r.ConsensusType||(r.ConsensusType={})),function(t){t["Ethash"]="ethash",t["Clique"]="clique",t["Casper"]="casper"}(r.ConsensusAlgorithm||(r.ConsensusAlgorithm={}));var v=function(t){function r(r){var e,o,n,i,s=this;s=t.call(this)||this,s._supportedHardforks=[],s._eips=[],s._customChains=null!==(n=r.customChains)&&void 0!==n?n:[],s._chainParams=s.setChain(r.chain),s.DEFAULT_HARDFORK=null!==(i=s._chainParams.defaultHardfork)&&void 0!==i?i:c.Istanbul;try{for(var h=a(s._chainParams.hardforks),u=h.next();!u.done;u=h.next()){var f=u.value;f.forkHash||(f.forkHash=s._calcForkHash(f.name))}}catch(d){e={error:d}}finally{try{u&&!u.done&&(o=h.return)&&o.call(h)}finally{if(e)throw e.error}}return s._hardfork=s.DEFAULT_HARDFORK,r.supportedHardforks&&(s._supportedHardforks=r.supportedHardforks),r.hardfork&&s.setHardfork(r.hardfork),r.eips&&s.setEIPs(r.eips),s}return n(r,t),r.custom=function(t,e){var o;void 0===e&&(e={});var n=null!==(o=e.baseChain)&&void 0!==o?o:"mainnet",a=i({},r._getChainParams(n));if(a["name"]="custom-chain","string"!==typeof t)return new r(i({chain:i(i({},a),t)},e));if(t===s.PolygonMainnet)return r.custom({name:s.PolygonMainnet,chainId:137,networkId:137},e);if(t===s.PolygonMumbai)return r.custom({name:s.PolygonMumbai,chainId:80001,networkId:80001},e);if(t===s.ArbitrumRinkebyTestnet)return r.custom({name:s.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},e);if(t===s.xDaiChain)return r.custom({name:s.xDaiChain,chainId:100,networkId:100},e);if(t===s.OptimisticKovan)return r.custom({name:s.OptimisticKovan,chainId:69,networkId:69},i({hardfork:c.Berlin},e));if(t===s.OptimisticEthereum)return r.custom({name:s.OptimisticEthereum,chainId:10,networkId:10},i({hardfork:c.Berlin},e));throw new Error("Custom chain ".concat(t," not supported"))},r.forCustomChain=function(t,e,o,n){var a=r._getChainParams(t);return new r({chain:i(i({},a),e),hardfork:o,supportedHardforks:n})},r.isSupportedChainId=function(t){var r=(0,d._getInitializedChains)();return Boolean(r["names"][t.toString()])},r._getChainParams=function(t,r){var e=(0,d._getInitializedChains)(r);if("number"===typeof t||f.BN.isBN(t)){if(t=t.toString(),e["names"][t]){var o=e["names"][t];return e[o]}throw new Error("Chain with ID ".concat(t," not supported"))}if(e[t])return e[t];throw new Error("Chain with name ".concat(t," not supported"))},r.prototype.setChain=function(t){var e,o;if("number"===typeof t||"string"===typeof t||f.BN.isBN(t)){var n=void 0;n=this._customChains&&this._customChains.length>0&&Array.isArray(this._customChains[0])?this._customChains.map((function(t){return t[0]})):this._customChains,this._chainParams=r._getChainParams(t,n)}else{if("object"!==typeof t)throw new Error("Wrong input format");if(this._customChains.length>0)throw new Error("Chain must be a string, number, or BN when initialized with customChains passed in");var i=["networkId","genesis","hardforks","bootstrapNodes"];try{for(var s=a(i),c=s.next();!c.done;c=s.next()){var h=c.value;if(void 0===t[h])throw new Error("Missing required chain parameter: ".concat(h))}}catch(u){e={error:u}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(e)throw e.error}}this._chainParams=t}return this._chainParams},r.prototype.setHardfork=function(t){var r,e;if(!this._isSupportedHardfork(t))throw new Error("Hardfork ".concat(t," not set as supported in supportedHardforks"));var o=!1;try{for(var n=a(l.hardforks),i=n.next();!i.done;i=n.next()){var s=i.value;s[0]===t&&(this._hardfork!==t&&(this._hardfork=t,this.emit("hardforkChanged",t)),o=!0)}}catch(c){r={error:c}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(r)throw r.error}}if(!o)throw new Error("Hardfork with name ".concat(t," not supported"))},r.prototype.getHardforkByBlockNumber=function(t,r){var e,o;t=(0,f.toType)(t,f.TypeOutput.BN),r=(0,f.toType)(r,f.TypeOutput.BN);var n,i,s,h=c.Chainstart;try{for(var u=a(this.hardforks()),d=u.next();!d.done;d=u.next()){var l=d.value;if(null!==l.block)t.gte(new f.BN(l.block))&&(h=l.name),r&&l.td&&(r.gte(new f.BN(l.td))?n=l.name:i=s),s=l.name;else if(void 0!==r&&null!==r&&void 0!==l.td&&null!==l.td&&r.gte(new f.BN(l.td)))return l.name}}catch(y){e={error:y}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(e)throw e.error}}if(r){var p="block number: ".concat(t," (-> ").concat(h,"), ");if(n&&!this.hardforkGteHardfork(h,n)){var v="HF determined by block number is lower than the minimum total difficulty HF";throw p+="total difficulty: ".concat(r," (-> ").concat(n,")"),new Error("".concat(v,": ").concat(p))}if(i&&!this.hardforkGteHardfork(i,h)){v="Maximum HF determined by total difficulty is lower than the block number HF";throw p+="total difficulty: ".concat(r," (-> ").concat(i,")"),new Error("".concat(v,": ").concat(p))}}return h},r.prototype.setHardforkByBlockNumber=function(t,r){var e=this.getHardforkByBlockNumber(t,r);return this.setHardfork(e),e},r.prototype._chooseHardfork=function(t,r){if(void 0===r&&(r=!0),t){if(r&&!this._isSupportedHardfork(t))throw new Error("Hardfork ".concat(t," not set as supported in supportedHardforks"))}else t=this._hardfork;return t},r.prototype._getHardfork=function(t){var r,e,o=this.hardforks();try{for(var n=a(o),i=n.next();!i.done;i=n.next()){var s=i.value;if(s["name"]===t)return s}}catch(c){r={error:c}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(r)throw r.error}}throw new Error("Hardfork ".concat(t," not defined for chain ").concat(this.chainName()))},r.prototype._isSupportedHardfork=function(t){var r,e;if(!(this._supportedHardforks.length>0))return!0;try{for(var o=a(this._supportedHardforks),n=o.next();!n.done;n=o.next()){var i=n.value;if(t===i)return!0}}catch(s){r={error:s}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return!1},r.prototype.setEIPs=function(t){var r,e,o=this;void 0===t&&(t=[]);var n=function(r){if(!(r in p.EIPs))throw new Error("".concat(r," not supported"));var e=i.gteHardfork(p.EIPs[r]["minimumHardfork"]);if(!e)throw new Error("".concat(r," cannot be activated on hardfork ").concat(i.hardfork(),", minimumHardfork: ").concat(e));p.EIPs[r].requiredEIPs&&p.EIPs[r].requiredEIPs.forEach((function(e){if(!t.includes(e)&&!o.isActivatedEIP(e))throw new Error("".concat(r," requires EIP ").concat(e,", but is not included in the EIP list"))}))},i=this;try{for(var s=a(t),c=s.next();!c.done;c=s.next()){var h=c.value;n(h)}}catch(u){r={error:u}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}this._eips=t},r.prototype.param=function(t,r){var e,o,n=null;try{for(var i=a(this._eips),s=i.next();!s.done;s=i.next()){var c=s.value;if(n=this.paramByEIP(t,r,c),null!==n)return n}}catch(h){e={error:h}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(e)throw e.error}}return this.paramByHardfork(t,r,this._hardfork)},r.prototype.paramByHardfork=function(t,r,e){var o,n,i,s;e=this._chooseHardfork(e);var c=null;try{for(var h=a(l.hardforks),u=h.next();!u.done;u=h.next()){var f=u.value;if("eips"in f[1]){var d=f[1]["eips"];try{for(var p=(i=void 0,a(d)),v=p.next();!v.done;v=p.next()){var y=v.value,m=this.paramByEIP(t,r,y);c=null!==m?m:c}}catch(g){i={error:g}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}}else{if(!f[1][t])throw new Error("Topic ".concat(t," not defined"));void 0!==f[1][t][r]&&(c=f[1][t][r].v)}if(f[0]===e)break}}catch(b){o={error:b}}finally{try{u&&!u.done&&(n=h.return)&&n.call(h)}finally{if(o)throw o.error}}return c},r.prototype.paramByEIP=function(t,r,e){if(!(e in p.EIPs))throw new Error("".concat(e," not supported"));var o=p.EIPs[e];if(!(t in o))throw new Error("Topic ".concat(t," not defined"));if(void 0===o[t][r])return null;var n=o[t][r].v;return n},r.prototype.paramByBlock=function(t,r,e){var o=this.activeHardforks(e),n=o[o.length-1]["name"];return this.paramByHardfork(t,r,n)},r.prototype.isActivatedEIP=function(t){var r,e;if(this.eips().includes(t))return!0;try{for(var o=a(l.hardforks),n=o.next();!n.done;n=o.next()){var i=n.value,s=i[1];if(this.gteHardfork(s["name"])&&"eips"in s&&s["eips"].includes(t))return!0}}catch(c){r={error:c}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return!1},r.prototype.hardforkIsActiveOnBlock=function(t,r,e){var o;void 0===e&&(e={}),r=(0,f.toType)(r,f.TypeOutput.BN);var n=null!==(o=e.onlySupported)&&void 0!==o&&o;t=this._chooseHardfork(t,n);var i=this.hardforkBlockBN(t);return!(!i||!r.gte(i))},r.prototype.activeOnBlock=function(t,r){return this.hardforkIsActiveOnBlock(null,t,r)},r.prototype.hardforkGteHardfork=function(t,r,e){var o,n;void 0===e&&(e={});var i,s=void 0!==e.onlyActive&&e.onlyActive;t=this._chooseHardfork(t,e.onlySupported),i=s?this.activeHardforks(null,e):this.hardforks();var c=-1,h=-1,u=0;try{for(var f=a(i),d=f.next();!d.done;d=f.next()){var l=d.value;l["name"]===t&&(c=u),l["name"]===r&&(h=u),u+=1}}catch(p){o={error:p}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(o)throw o.error}}return c>=h&&-1!==h},r.prototype.gteHardfork=function(t,r){return this.hardforkGteHardfork(null,t,r)},r.prototype.hardforkIsActiveOnChain=function(t,r){var e,o,n;void 0===r&&(r={});var i=null!==(n=r.onlySupported)&&void 0!==n&&n;t=this._chooseHardfork(t,i);try{for(var s=a(this.hardforks()),c=s.next();!c.done;c=s.next()){var h=c.value;if(h["name"]===t&&null!==h["block"])return!0}}catch(u){e={error:u}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(e)throw e.error}}return!1},r.prototype.activeHardforks=function(t,r){var e,o;void 0===r&&(r={});var n=[],i=this.hardforks();try{for(var s=a(i),c=s.next();!c.done;c=s.next()){var h=c.value;if(null!==h["block"]){if(void 0!==t&&null!==t&&t<h["block"])break;r.onlySupported&&!this._isSupportedHardfork(h["name"])||n.push(h)}}}catch(u){e={error:u}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(e)throw e.error}}return n},r.prototype.activeHardfork=function(t,r){void 0===r&&(r={});var e=this.activeHardforks(t,r);if(e.length>0)return e[e.length-1]["name"];throw new Error("No (supported) active hardfork found")},r.prototype.hardforkBlock=function(t){var r=this.hardforkBlockBN(t);return(0,f.toType)(r,f.TypeOutput.Number)},r.prototype.hardforkBlockBN=function(t){t=this._chooseHardfork(t,!1);var r=this._getHardfork(t)["block"];return void 0===r||null===r?null:new f.BN(r)},r.prototype.hardforkTD=function(t){t=this._chooseHardfork(t,!1);var r=this._getHardfork(t)["td"];return void 0===r||null===r?null:new f.BN(r)},r.prototype.isHardforkBlock=function(t,r){t=(0,f.toType)(t,f.TypeOutput.BN),r=this._chooseHardfork(r,!1);var e=this.hardforkBlockBN(r);return!!e&&e.eq(t)},r.prototype.nextHardforkBlock=function(t){var r=this.nextHardforkBlockBN(t);return(0,f.toType)(r,f.TypeOutput.Number)},r.prototype.nextHardforkBlockBN=function(t){t=this._chooseHardfork(t,!1);var r=this.hardforkBlockBN(t);if(null===r)return null;var e=this.hardforks().reduce((function(t,e){var o=new f.BN(e.block);return o.gt(r)&&null===t?o:t}),null);return e},r.prototype.isNextHardforkBlock=function(t,r){t=(0,f.toType)(t,f.TypeOutput.BN),r=this._chooseHardfork(r,!1);var e=this.nextHardforkBlockBN(r);return null!==e&&e.eq(t)},r.prototype._calcForkHash=function(t){var r,e,n=o.from(this.genesis().hash.substr(2),"hex"),i=o.alloc(0),s=0;try{for(var c=a(this.hardforks()),h=c.next();!h.done;h=c.next()){var d=h.value,l=d.block;if(0!==l&&null!==l&&l!==s){var p=o.from(l.toString(16).padStart(16,"0"),"hex");i=o.concat([i,p])}if(d.name===t)break;null!==l&&(s=l)}}catch(m){r={error:m}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(r)throw r.error}}var v=o.concat([n,i]),y=(0,f.intToBuffer)((0,u.buf)(v)>>>0).toString("hex");return"0x".concat(y)},r.prototype.forkHash=function(t){t=this._chooseHardfork(t,!1);var r=this._getHardfork(t);if(null===r["block"]&&void 0===r["td"]){var e="No fork hash calculation possible for future hardfork";throw new Error(e)}return void 0!==r["forkHash"]?r["forkHash"]:this._calcForkHash(t)},r.prototype.hardforkForForkHash=function(t){var r=this.hardforks().filter((function(r){return r.forkHash===t}));return r.length>=1?r[r.length-1]:null},r.prototype.genesis=function(){return this._chainParams["genesis"]},r.prototype.genesisState=function(){var t,r;switch(this.chainName()){case"mainnet":return e(31617);case"ropsten":return e(53712);case"rinkeby":return e(3023);case"kovan":return e(28777);case"goerli":return e(15382);case"sepolia":return e(81847)}if(this._customChains&&this._customChains.length>0&&Array.isArray(this._customChains[0]))try{for(var o=a(this._customChains),n=o.next();!n.done;n=o.next()){var i=n.value;if(i[0].name===this.chainName())return i[1]}}catch(s){t={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return{}},r.prototype.hardforks=function(){return this._chainParams["hardforks"]},r.prototype.bootstrapNodes=function(){return this._chainParams["bootstrapNodes"]},r.prototype.dnsNetworks=function(){return this._chainParams["dnsNetworks"]},r.prototype.hardfork=function(){return this._hardfork},r.prototype.chainId=function(){return(0,f.toType)(this.chainIdBN(),f.TypeOutput.Number)},r.prototype.chainIdBN=function(){return new f.BN(this._chainParams["chainId"])},r.prototype.chainName=function(){return this._chainParams["name"]},r.prototype.networkId=function(){return(0,f.toType)(this.networkIdBN(),f.TypeOutput.Number)},r.prototype.networkIdBN=function(){return new f.BN(this._chainParams["networkId"])},r.prototype.eips=function(){return this._eips},r.prototype.consensusType=function(){var t,r,e,o=this.hardfork();try{for(var n=a(l.hardforks),i=n.next();!i.done;i=n.next()){var s=i.value;if("consensus"in s[1]&&(e=s[1]["consensus"]["type"]),s[0]===o)break}}catch(c){t={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e||this._chainParams["consensus"]["type"]},r.prototype.consensusAlgorithm=function(){var t,r,e,o=this.hardfork();try{for(var n=a(l.hardforks),i=n.next();!i.done;i=n.next()){var s=i.value;if("consensus"in s[1]&&(e=s[1]["consensus"]["algorithm"]),s[0]===o)break}}catch(c){t={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e||this._chainParams["consensus"]["algorithm"]},r.prototype.consensusConfig=function(){var t,r,e,o=this.hardfork();try{for(var n=a(l.hardforks),i=n.next();!i.done;i=n.next()){var s=i.value;if("consensus"in s[1]&&(e=s[1]["consensus"][s[1]["consensus"]["algorithm"]]),s[0]===o)break}}catch(h){t={error:h}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}if(e)return e;var c=this.consensusAlgorithm();return this._chainParams["consensus"][c]},r.prototype.copy=function(){var t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return t.removeAllListeners(),t},r}(h.EventEmitter);r["default"]=v},36225:function(t,r,e){var o=this&&this.__createBinding||(Object.create?function(t,r,e,o){void 0===o&&(o=e);var n=Object.getOwnPropertyDescriptor(r,e);n&&!("get"in n?!r.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,o,n)}:function(t,r,e,o){void 0===o&&(o=e),t[o]=r[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t["default"]=r}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&o(r,t,e);return n(r,t),r},a=this&&this.__values||function(t){var r="function"===typeof Symbol&&Symbol.iterator,e=r&&t[r],o=0;if(e)return e.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(t,r){var e="function"===typeof Symbol&&t[Symbol.iterator];if(!e)return t;var o,n,i=e.call(t),a=[];try{while((void 0===r||r-- >0)&&!(o=i.next()).done)a.push(o.value)}catch(s){n={error:s}}finally{try{o&&!o.done&&(e=i["return"])&&e.call(i)}finally{if(n)throw n.error}}return a};Object.defineProperty(r,"__esModule",{value:!0}),r.BaseTransaction=void 0;var c=i(e(2832)),h=e(22751),u=e(63458),f=function(){function t(t){this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=c.Chain.Mainnet,this.DEFAULT_HARDFORK=c.Hardfork.Istanbul;var r=t.nonce,e=t.gasLimit,o=t.to,n=t.value,i=t.data,a=t.v,s=t.r,u=t.s,f=t.type;this._type=new h.BN((0,h.toBuffer)(f)).toNumber();var d=(0,h.toBuffer)(""===o?"0x":o),l=(0,h.toBuffer)(""===a?"0x":a),p=(0,h.toBuffer)(""===s?"0x":s),v=(0,h.toBuffer)(""===u?"0x":u);this.nonce=new h.BN((0,h.toBuffer)(""===r?"0x":r)),this.gasLimit=new h.BN((0,h.toBuffer)(""===e?"0x":e)),this.to=d.length>0?new h.Address(d):void 0,this.value=new h.BN((0,h.toBuffer)(""===n?"0x":n)),this.data=(0,h.toBuffer)(""===i?"0x":i),this.v=l.length>0?new h.BN(l):void 0,this.r=p.length>0?new h.BN(p):void 0,this.s=v.length>0?new h.BN(v):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0)}return Object.defineProperty(t.prototype,"transactionType",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),t.prototype.supports=function(t){return this.activeCapabilities.includes(t)},t.prototype.validate=function(t){void 0===t&&(t=!1);var r=[];return this.getBaseFee().gt(this.gasLimit)&&r.push("gasLimit is too low. given ".concat(this.gasLimit,", need at least ").concat(this.getBaseFee())),this.isSigned()&&!this.verifySignature()&&r.push("Invalid Signature"),t?r:0===r.length},t.prototype.getBaseFee=function(){var t=this.getDataFee().addn(this.common.param("gasPrices","tx"));return this.common.gteHardfork("homestead")&&this.toCreationAddress()&&t.iaddn(this.common.param("gasPrices","txCreation")),t},t.prototype.getDataFee=function(){for(var t=this.common.param("gasPrices","txDataZero"),r=this.common.param("gasPrices","txDataNonZero"),e=0,o=0;o<this.data.length;o++)0===this.data[o]?e+=t:e+=r;if(e=new h.BN(e),(void 0===this.to||null===this.to)&&this.common.isActivatedEIP(3860)){var n=Math.ceil(this.data.length/32),i=new h.BN(this.common.param("gasPrices","initCodeWordCost")).imuln(n);e.iadd(i)}return e},t.prototype.toCreationAddress=function(){return void 0===this.to||0===this.to.buf.length},t.prototype.isSigned=function(){var t=this,r=t.v,e=t.r,o=t.s;return 0===this.type?!!(r&&e&&o):!(void 0===r||!e||!o)},t.prototype.verifySignature=function(){try{var t=this.getSenderPublicKey();return 0!==(0,h.unpadBuffer)(t).length}catch(r){return!1}},t.prototype.getSenderAddress=function(){return new h.Address((0,h.publicToAddress)(this.getSenderPublicKey()))},t.prototype.sign=function(t){if(32!==t.length){var r=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(r)}var e=!1;0===this.type&&this.common.gteHardfork("spuriousDragon")&&!this.supports(u.Capability.EIP155ReplayProtection)&&(this.activeCapabilities.push(u.Capability.EIP155ReplayProtection),e=!0);var o=this.getMessageToSign(!0),n=(0,h.ecsign)(o,t),i=n.v,a=n.r,s=n.s,c=this._processSignature(i,a,s);if(e){var f=this.activeCapabilities.indexOf(u.Capability.EIP155ReplayProtection);f>-1&&this.activeCapabilities.splice(f,1)}return c},t.prototype._getCommon=function(t,r){var e;if(r){var o=new h.BN((0,h.toBuffer)(r));if(t){if(!t.chainIdBN().eq(o)){var n=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(n)}return t.copy()}return c.default.isSupportedChainId(o)?new c.default({chain:o,hardfork:this.DEFAULT_HARDFORK}):c.default.forCustomChain(this.DEFAULT_CHAIN,{name:"custom-chain",networkId:o,chainId:o},this.DEFAULT_HARDFORK)}return null!==(e=null===t||void 0===t?void 0:t.copy())&&void 0!==e?e:new c.default({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})},t.prototype._validateCannotExceedMaxInteger=function(t,r,e){var o,n;void 0===r&&(r=256),void 0===e&&(e=!1);try{for(var i=a(Object.entries(t)),c=i.next();!c.done;c=i.next()){var u=s(c.value,2),f=u[0],d=u[1];switch(r){case 64:if(e){if(null===d||void 0===d?void 0:d.gte(h.MAX_UINT64)){var l=this._errorMsg("".concat(f," cannot equal or exceed MAX_UINT64 (2^64-1), given ").concat(d));throw new Error(l)}}else if(null===d||void 0===d?void 0:d.gt(h.MAX_UINT64)){l=this._errorMsg("".concat(f," cannot exceed MAX_UINT64 (2^64-1), given ").concat(d));throw new Error(l)}break;case 256:if(e){if(null===d||void 0===d?void 0:d.gte(h.MAX_INTEGER)){l=this._errorMsg("".concat(f," cannot equal or exceed MAX_INTEGER (2^256-1), given ").concat(d));throw new Error(l)}}else if(null===d||void 0===d?void 0:d.gt(h.MAX_INTEGER)){l=this._errorMsg("".concat(f," cannot exceed MAX_INTEGER (2^256-1), given ").concat(d));throw new Error(l)}break;default:l=this._errorMsg("unimplemented bits value");throw new Error(l)}}}catch(p){o={error:p}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}},t.prototype._getSharedErrorPostfix=function(){var t="";try{t=this.isSigned()?(0,h.bufferToHex)(this.hash()):"not available (unsigned)"}catch(n){t="error"}var r="";try{r=this.isSigned().toString()}catch(n){t="error"}var e="";try{e=this.common.hardfork()}catch(n){e="error"}var o="tx type=".concat(this.type," hash=").concat(t," nonce=").concat(this.nonce," value=").concat(this.value," ");return o+="signed=".concat(r," hf=").concat(e),o},t}();r.BaseTransaction=f},47669:function(t,r,e){var o=e(48764)["Buffer"],n=this&&this.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])},t(r,e)};return function(r,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var r,e=1,o=arguments.length;e<o;e++)for(var n in r=arguments[e],r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);return t},i.apply(this,arguments)},a=this&&this.__read||function(t,r){var e="function"===typeof Symbol&&t[Symbol.iterator];if(!e)return t;var o,n,i=e.call(t),a=[];try{while((void 0===r||r-- >0)&&!(o=i.next()).done)a.push(o.value)}catch(s){n={error:s}}finally{try{o&&!o.done&&(e=i["return"])&&e.call(i)}finally{if(n)throw n.error}}return a};Object.defineProperty(r,"__esModule",{value:!0});var s=e(22751),c=e(36225),h=e(63458),u=e(82942),f=2,d=o.from(f.toString(16).padStart(2,"0"),"hex"),l=function(t){function r(r,e){void 0===e&&(e={});var o,n,a=this;a=t.call(this,i(i({},r),{type:f}))||this,a.DEFAULT_HARDFORK="london";var c=r.chainId,d=r.accessList,l=r.maxFeePerGas,p=r.maxPriorityFeePerGas;if(a.common=a._getCommon(e.common,c),a.chainId=a.common.chainIdBN(),!a.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");a.activeCapabilities=a.activeCapabilities.concat([1559,2718,2930]);var v=u.AccessLists.getAccessListData(null!==d&&void 0!==d?d:[]);if(a.accessList=v.accessList,a.AccessListJSON=v.AccessListJSON,u.AccessLists.verifyAccessList(a.accessList),a.maxFeePerGas=new s.BN((0,s.toBuffer)(""===l?"0x":l)),a.maxPriorityFeePerGas=new s.BN((0,s.toBuffer)(""===p?"0x":p)),a._validateCannotExceedMaxInteger({maxFeePerGas:a.maxFeePerGas,maxPriorityFeePerGas:a.maxPriorityFeePerGas}),a.gasLimit.mul(a.maxFeePerGas).gt(s.MAX_INTEGER)){var y=a._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(y)}if(a.maxFeePerGas.lt(a.maxPriorityFeePerGas)){y=a._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(y)}if(a.v&&!a.v.eqn(0)&&!a.v.eqn(1)){y=a._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(y)}if(a.common.gteHardfork("homestead")&&(null===(o=a.s)||void 0===o?void 0:o.gt(h.N_DIV_2))){y=a._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(y)}a.common.isActivatedEIP(3860)&&(0,u.checkMaxInitCodeSize)(a.common,a.data.length);var m=null===(n=null===e||void 0===e?void 0:e.freeze)||void 0===n||n;return m&&Object.freeze(a),a}return n(r,t),Object.defineProperty(r.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),r.fromTxData=function(t,e){return void 0===e&&(e={}),new r(t,e)},r.fromSerializedTx=function(t,e){if(void 0===e&&(e={}),!t.slice(0,1).equals(d))throw new Error("Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ".concat(f,", received: ").concat(t.slice(0,1).toString("hex")));var o=s.rlp.decode(t.slice(1));if(!Array.isArray(o))throw new Error("Invalid serialized tx input: must be array");return r.fromValuesArray(o,e)},r.fromRlpSerializedTx=function(t,e){return void 0===e&&(e={}),r.fromSerializedTx(t,e)},r.fromValuesArray=function(t,e){if(void 0===e&&(e={}),9!==t.length&&12!==t.length)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");var o=a(t,12),n=o[0],i=o[1],c=o[2],h=o[3],u=o[4],f=o[5],d=o[6],l=o[7],p=o[8],v=o[9],y=o[10],m=o[11];return(0,s.validateNoLeadingZeroes)({nonce:i,maxPriorityFeePerGas:c,maxFeePerGas:h,gasLimit:u,value:d,v:v,r:y,s:m}),new r({chainId:new s.BN(n),nonce:i,maxPriorityFeePerGas:c,maxFeePerGas:h,gasLimit:u,to:f,value:d,data:l,accessList:null!==p&&void 0!==p?p:[],v:void 0!==v?new s.BN(v):void 0,r:y,s:m},e)},r.prototype.getDataFee=function(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;var r=t.prototype.getDataFee.call(this);return r.iaddn(u.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:r,hardfork:this.common.hardfork()}),r},r.prototype.getUpfrontCost=function(t){void 0===t&&(t=new s.BN(0));var r=s.BN.min(this.maxPriorityFeePerGas,this.maxFeePerGas.sub(t)),e=r.add(t);return this.gasLimit.mul(e).add(this.value)},r.prototype.raw=function(){return[(0,s.bnToUnpaddedBuffer)(this.chainId),(0,s.bnToUnpaddedBuffer)(this.nonce),(0,s.bnToUnpaddedBuffer)(this.maxPriorityFeePerGas),(0,s.bnToUnpaddedBuffer)(this.maxFeePerGas),(0,s.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:o.from([]),(0,s.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,void 0!==this.v?(0,s.bnToUnpaddedBuffer)(this.v):o.from([]),void 0!==this.r?(0,s.bnToUnpaddedBuffer)(this.r):o.from([]),void 0!==this.s?(0,s.bnToUnpaddedBuffer)(this.s):o.from([])]},r.prototype.serialize=function(){var t=this.raw();return o.concat([d,s.rlp.encode(t)])},r.prototype.getMessageToSign=function(t){void 0===t&&(t=!0);var r=this.raw().slice(0,9),e=o.concat([d,s.rlp.encode(r)]);return t?(0,s.keccak256)(e):e},r.prototype.hash=function(){if(!this.isSigned()){var t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,s.keccak256)(this.serialize())),this.cache.hash):(0,s.keccak256)(this.serialize())},r.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},r.prototype.getSenderPublicKey=function(){var t;if(!this.isSigned()){var r=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(r)}var e=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(t=this.s)||void 0===t?void 0:t.gt(h.N_DIV_2))){r=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(r)}var o=this,n=o.v,i=o.r,a=o.s;try{return(0,s.ecrecover)(e,n.addn(27),(0,s.bnToUnpaddedBuffer)(i),(0,s.bnToUnpaddedBuffer)(a))}catch(c){r=this._errorMsg("Invalid Signature");throw new Error(r)}},r.prototype._processSignature=function(t,e,o){var n={common:this.common};return r.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new s.BN(t-27),r:new s.BN(e),s:new s.BN(o)},n)},r.prototype.toJSON=function(){var t=u.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,s.bnToHex)(this.chainId),nonce:(0,s.bnToHex)(this.nonce),maxPriorityFeePerGas:(0,s.bnToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,s.bnToHex)(this.maxFeePerGas),gasLimit:(0,s.bnToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,s.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:t,v:void 0!==this.v?(0,s.bnToHex)(this.v):void 0,r:void 0!==this.r?(0,s.bnToHex)(this.r):void 0,s:void 0!==this.s?(0,s.bnToHex)(this.s):void 0}},r.prototype.errorStr=function(){var t=this._getSharedErrorPostfix();return t+=" maxFeePerGas=".concat(this.maxFeePerGas," maxPriorityFeePerGas=").concat(this.maxPriorityFeePerGas),t},r.prototype._errorMsg=function(t){return"".concat(t," (").concat(this.errorStr(),")")},r}(c.BaseTransaction);r["default"]=l},29325:function(t,r,e){var o=e(48764)["Buffer"],n=this&&this.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])},t(r,e)};return function(r,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var r,e=1,o=arguments.length;e<o;e++)for(var n in r=arguments[e],r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);return t},i.apply(this,arguments)},a=this&&this.__read||function(t,r){var e="function"===typeof Symbol&&t[Symbol.iterator];if(!e)return t;var o,n,i=e.call(t),a=[];try{while((void 0===r||r-- >0)&&!(o=i.next()).done)a.push(o.value)}catch(s){n={error:s}}finally{try{o&&!o.done&&(e=i["return"])&&e.call(i)}finally{if(n)throw n.error}}return a};Object.defineProperty(r,"__esModule",{value:!0});var s=e(22751),c=e(36225),h=e(63458),u=e(82942),f=1,d=o.from(f.toString(16).padStart(2,"0"),"hex"),l=function(t){function r(r,e){void 0===e&&(e={});var o,n,a=this;a=t.call(this,i(i({},r),{type:f}))||this,a.DEFAULT_HARDFORK="berlin";var c=r.chainId,d=r.accessList,l=r.gasPrice;if(a.common=a._getCommon(e.common,c),a.chainId=a.common.chainIdBN(),!a.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");a.activeCapabilities=a.activeCapabilities.concat([2718,2930]);var p=u.AccessLists.getAccessListData(null!==d&&void 0!==d?d:[]);if(a.accessList=p.accessList,a.AccessListJSON=p.AccessListJSON,u.AccessLists.verifyAccessList(a.accessList),a.gasPrice=new s.BN((0,s.toBuffer)(""===l?"0x":l)),a._validateCannotExceedMaxInteger({gasPrice:a.gasPrice}),a.gasPrice.mul(a.gasLimit).gt(s.MAX_INTEGER)){var v=a._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(v)}if(a.v&&!a.v.eqn(0)&&!a.v.eqn(1)){v=a._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(v)}if(a.common.gteHardfork("homestead")&&(null===(o=a.s)||void 0===o?void 0:o.gt(h.N_DIV_2))){v=a._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(v)}a.common.isActivatedEIP(3860)&&(0,u.checkMaxInitCodeSize)(a.common,a.data.length);var y=null===(n=null===e||void 0===e?void 0:e.freeze)||void 0===n||n;return y&&Object.freeze(a),a}return n(r,t),Object.defineProperty(r.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),r.fromTxData=function(t,e){return void 0===e&&(e={}),new r(t,e)},r.fromSerializedTx=function(t,e){if(void 0===e&&(e={}),!t.slice(0,1).equals(d))throw new Error("Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ".concat(f,", received: ").concat(t.slice(0,1).toString("hex")));var o=s.rlp.decode(t.slice(1));if(!Array.isArray(o))throw new Error("Invalid serialized tx input: must be array");return r.fromValuesArray(o,e)},r.fromRlpSerializedTx=function(t,e){return void 0===e&&(e={}),r.fromSerializedTx(t,e)},r.fromValuesArray=function(t,e){if(void 0===e&&(e={}),8!==t.length&&11!==t.length)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");var o=a(t,11),n=o[0],i=o[1],c=o[2],h=o[3],u=o[4],f=o[5],d=o[6],l=o[7],p=o[8],v=o[9],y=o[10];(0,s.validateNoLeadingZeroes)({nonce:i,gasPrice:c,gasLimit:h,value:f,v:p,r:v,s:y});var m=[];return new r({chainId:new s.BN(n),nonce:i,gasPrice:c,gasLimit:h,to:u,value:f,data:d,accessList:null!==l&&void 0!==l?l:m,v:void 0!==p?new s.BN(p):void 0,r:v,s:y},e)},r.prototype.getDataFee=function(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;var r=t.prototype.getDataFee.call(this);return r.iaddn(u.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:r,hardfork:this.common.hardfork()}),r},r.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},r.prototype.raw=function(){return[(0,s.bnToUnpaddedBuffer)(this.chainId),(0,s.bnToUnpaddedBuffer)(this.nonce),(0,s.bnToUnpaddedBuffer)(this.gasPrice),(0,s.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:o.from([]),(0,s.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,void 0!==this.v?(0,s.bnToUnpaddedBuffer)(this.v):o.from([]),void 0!==this.r?(0,s.bnToUnpaddedBuffer)(this.r):o.from([]),void 0!==this.s?(0,s.bnToUnpaddedBuffer)(this.s):o.from([])]},r.prototype.serialize=function(){var t=this.raw();return o.concat([d,s.rlp.encode(t)])},r.prototype.getMessageToSign=function(t){void 0===t&&(t=!0);var r=this.raw().slice(0,8),e=o.concat([d,s.rlp.encode(r)]);return t?(0,s.keccak256)(e):e},r.prototype.hash=function(){if(!this.isSigned()){var t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,s.keccak256)(this.serialize())),this.cache.hash):(0,s.keccak256)(this.serialize())},r.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},r.prototype.getSenderPublicKey=function(){var t;if(!this.isSigned()){var r=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(r)}var e=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(t=this.s)||void 0===t?void 0:t.gt(h.N_DIV_2))){r=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(r)}var o=this,n=o.yParity,i=o.r,a=o.s;try{return(0,s.ecrecover)(e,n.addn(27),(0,s.bnToUnpaddedBuffer)(i),(0,s.bnToUnpaddedBuffer)(a))}catch(c){r=this._errorMsg("Invalid Signature");throw new Error(r)}},r.prototype._processSignature=function(t,e,o){var n={common:this.common};return r.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new s.BN(t-27),r:new s.BN(e),s:new s.BN(o)},n)},r.prototype.toJSON=function(){var t=u.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,s.bnToHex)(this.chainId),nonce:(0,s.bnToHex)(this.nonce),gasPrice:(0,s.bnToHex)(this.gasPrice),gasLimit:(0,s.bnToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,s.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:t,v:void 0!==this.v?(0,s.bnToHex)(this.v):void 0,r:void 0!==this.r?(0,s.bnToHex)(this.r):void 0,s:void 0!==this.s?(0,s.bnToHex)(this.s):void 0}},r.prototype.errorStr=function(){var t,r,e=this._getSharedErrorPostfix();return e+=" gasPrice=".concat(this.gasPrice," accessListCount=").concat(null!==(r=null===(t=this.accessList)||void 0===t?void 0:t.length)&&void 0!==r?r:0),e},r.prototype._errorMsg=function(t){return"".concat(t," (").concat(this.errorStr(),")")},r}(c.BaseTransaction);r["default"]=l},66052:function(t,r,e){var o=this&&this.__createBinding||(Object.create?function(t,r,e,o){void 0===o&&(o=e);var n=Object.getOwnPropertyDescriptor(r,e);n&&!("get"in n?!r.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(t,o,n)}:function(t,r,e,o){void 0===o&&(o=e),t[o]=r[e]}),n=this&&this.__exportStar||function(t,r){for(var e in t)"default"===e||Object.prototype.hasOwnProperty.call(r,e)||o(r,t,e)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.FeeMarketEIP1559Transaction=r.TransactionFactory=r.AccessListEIP2930Transaction=r.Transaction=void 0;var a=e(35534);Object.defineProperty(r,"Transaction",{enumerable:!0,get:function(){return i(a).default}});var s=e(29325);Object.defineProperty(r,"AccessListEIP2930Transaction",{enumerable:!0,get:function(){return i(s).default}});var c=e(31932);Object.defineProperty(r,"TransactionFactory",{enumerable:!0,get:function(){return i(c).default}});var h=e(47669);Object.defineProperty(r,"FeeMarketEIP1559Transaction",{enumerable:!0,get:function(){return i(h).default}}),n(e(63458),r)},35534:function(t,r,e){var o=e(48764)["Buffer"],n=this&&this.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])},t(r,e)};return function(r,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var r,e=1,o=arguments.length;e<o;e++)for(var n in r=arguments[e],r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);return t},i.apply(this,arguments)},a=this&&this.__read||function(t,r){var e="function"===typeof Symbol&&t[Symbol.iterator];if(!e)return t;var o,n,i=e.call(t),a=[];try{while((void 0===r||r-- >0)&&!(o=i.next()).done)a.push(o.value)}catch(s){n={error:s}}finally{try{o&&!o.done&&(e=i["return"])&&e.call(i)}finally{if(n)throw n.error}}return a};Object.defineProperty(r,"__esModule",{value:!0});var s=e(22751),c=e(63458),h=e(36225),u=e(82942),f=0,d=function(t){function r(r,e){void 0===e&&(e={});var o,n=this;if(n=t.call(this,i(i({},r),{type:f}))||this,n.common=n._validateTxV(n.v,e.common),n.gasPrice=new s.BN((0,s.toBuffer)(""===r.gasPrice?"0x":r.gasPrice)),n.gasPrice.mul(n.gasLimit).gt(s.MAX_INTEGER)){var a=n._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(a)}if(n._validateCannotExceedMaxInteger({gasPrice:n.gasPrice}),n.common.gteHardfork("spuriousDragon"))if(n.isSigned()){var h=n.v,d=n.common.chainIdBN().muln(2);(h.eq(d.addn(35))||h.eq(d.addn(36)))&&n.activeCapabilities.push(c.Capability.EIP155ReplayProtection)}else n.activeCapabilities.push(c.Capability.EIP155ReplayProtection);n.common.isActivatedEIP(3860)&&(0,u.checkMaxInitCodeSize)(n.common,n.data.length);var l=null===(o=null===e||void 0===e?void 0:e.freeze)||void 0===o||o;return l&&Object.freeze(n),n}return n(r,t),r.fromTxData=function(t,e){return void 0===e&&(e={}),new r(t,e)},r.fromSerializedTx=function(t,r){void 0===r&&(r={});var e=s.rlp.decode(t);if(!Array.isArray(e))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(e,r)},r.fromRlpSerializedTx=function(t,e){return void 0===e&&(e={}),r.fromSerializedTx(t,e)},r.fromValuesArray=function(t,e){if(void 0===e&&(e={}),6!==t.length&&9!==t.length)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");var o=a(t,9),n=o[0],i=o[1],c=o[2],h=o[3],u=o[4],f=o[5],d=o[6],l=o[7],p=o[8];return(0,s.validateNoLeadingZeroes)({nonce:n,gasPrice:i,gasLimit:c,value:u,v:d,r:l,s:p}),new r({nonce:n,gasPrice:i,gasLimit:c,to:h,value:u,data:f,v:d,r:l,s:p},e)},r.prototype.raw=function(){return[(0,s.bnToUnpaddedBuffer)(this.nonce),(0,s.bnToUnpaddedBuffer)(this.gasPrice),(0,s.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:o.from([]),(0,s.bnToUnpaddedBuffer)(this.value),this.data,void 0!==this.v?(0,s.bnToUnpaddedBuffer)(this.v):o.from([]),void 0!==this.r?(0,s.bnToUnpaddedBuffer)(this.r):o.from([]),void 0!==this.s?(0,s.bnToUnpaddedBuffer)(this.s):o.from([])]},r.prototype.serialize=function(){return s.rlp.encode(this.raw())},r.prototype._getMessageToSign=function(){var t=[(0,s.bnToUnpaddedBuffer)(this.nonce),(0,s.bnToUnpaddedBuffer)(this.gasPrice),(0,s.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:o.from([]),(0,s.bnToUnpaddedBuffer)(this.value),this.data];return this.supports(c.Capability.EIP155ReplayProtection)&&(t.push((0,s.toBuffer)(this.common.chainIdBN())),t.push((0,s.unpadBuffer)((0,s.toBuffer)(0))),t.push((0,s.unpadBuffer)((0,s.toBuffer)(0)))),t},r.prototype.getMessageToSign=function(t){void 0===t&&(t=!0);var r=this._getMessageToSign();return t?(0,s.rlphash)(r):r},r.prototype.getDataFee=function(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:t.prototype.getDataFee.call(this),hardfork:this.common.hardfork()}),t.prototype.getDataFee.call(this))},r.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},r.prototype.hash=function(){return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,s.rlphash)(this.raw())),this.cache.hash):(0,s.rlphash)(this.raw())},r.prototype.getMessageToVerifySignature=function(){if(!this.isSigned()){var t=this._errorMsg("This transaction is not signed");throw new Error(t)}var r=this._getMessageToSign();return(0,s.rlphash)(r)},r.prototype.getSenderPublicKey=function(){var t,r=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(t=this.s)||void 0===t?void 0:t.gt(c.N_DIV_2))){var e=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(e)}var o=this,n=o.v,i=o.r,a=o.s;try{return(0,s.ecrecover)(r,n,(0,s.bnToUnpaddedBuffer)(i),(0,s.bnToUnpaddedBuffer)(a),this.supports(c.Capability.EIP155ReplayProtection)?this.common.chainIdBN():void 0)}catch(h){e=this._errorMsg("Invalid Signature");throw new Error(e)}},r.prototype._processSignature=function(t,e,o){var n=new s.BN(t);this.supports(c.Capability.EIP155ReplayProtection)&&n.iadd(this.common.chainIdBN().muln(2).addn(8));var i={common:this.common};return r.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:n,r:new s.BN(e),s:new s.BN(o)},i)},r.prototype.toJSON=function(){return{nonce:(0,s.bnToHex)(this.nonce),gasPrice:(0,s.bnToHex)(this.gasPrice),gasLimit:(0,s.bnToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,s.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),v:void 0!==this.v?(0,s.bnToHex)(this.v):void 0,r:void 0!==this.r?(0,s.bnToHex)(this.r):void 0,s:void 0!==this.s?(0,s.bnToHex)(this.s):void 0}},r.prototype._validateTxV=function(t,r){var e;if(void 0!==t&&!t.eqn(0)&&(!r||r.gteHardfork("spuriousDragon"))&&!t.eqn(27)&&!t.eqn(28))if(r){var o=r.chainIdBN().muln(2),n=t.eq(o.addn(35))||t.eq(o.addn(36));if(!n)throw new Error("Incompatible EIP155-based V ".concat(t," and chain id ").concat(r.chainIdBN(),". See the Common parameter of the Transaction constructor to set the chain id."))}else{var i=void 0;i=t.subn(35).isEven()?35:36,e=t.subn(i).divn(2)}return this._getCommon(r,e)},r.prototype._unsignedTxImplementsEIP155=function(){return this.common.gteHardfork("spuriousDragon")},r.prototype._signedTxImplementsEIP155=function(){if(!this.isSigned()){var t=this._errorMsg("This transaction is not signed");throw new Error(t)}var r=this.common.gteHardfork("spuriousDragon"),e=this.v,o=this.common.chainIdBN().muln(2),n=e.eq(o.addn(35))||e.eq(o.addn(36));return n&&r},r.prototype.errorStr=function(){var t=this._getSharedErrorPostfix();return t+=" gasPrice=".concat(this.gasPrice),t},r.prototype._errorMsg=function(t){return"".concat(t," (").concat(this.errorStr(),")")},r}(h.BaseTransaction);r["default"]=d},31932:function(t,r,e){var o=e(48764)["Buffer"];Object.defineProperty(r,"__esModule",{value:!0});var n=e(22751),i=e(66052),a=function(){function t(){}return t.fromTxData=function(t,r){if(void 0===r&&(r={}),"type"in t&&void 0!==t.type){var e=new n.BN((0,n.toBuffer)(t.type)).toNumber();if(0===e)return i.Transaction.fromTxData(t,r);if(1===e)return i.AccessListEIP2930Transaction.fromTxData(t,r);if(2===e)return i.FeeMarketEIP1559Transaction.fromTxData(t,r);throw new Error("Tx instantiation with type ".concat(e," not supported"))}return i.Transaction.fromTxData(t,r)},t.fromSerializedData=function(t,r){if(void 0===r&&(r={}),t[0]<=127){var e=void 0;switch(t[0]){case 1:e=2930;break;case 2:e=1559;break;default:throw new Error("TypedTransaction with ID ".concat(t[0]," unknown"))}return 1559===e?i.FeeMarketEIP1559Transaction.fromSerializedTx(t,r):i.AccessListEIP2930Transaction.fromSerializedTx(t,r)}return i.Transaction.fromSerializedTx(t,r)},t.fromBlockBodyData=function(t,r){if(void 0===r&&(r={}),o.isBuffer(t))return this.fromSerializedData(t,r);if(Array.isArray(t))return i.Transaction.fromValuesArray(t,r);throw new Error("Cannot decode transaction: unknown type input")},t.getTransactionClass=function(t,r){void 0===t&&(t=0);var e=0==t||t>=128&&t<=255;if(e)return i.Transaction;switch(t){case 1:return i.AccessListEIP2930Transaction;case 2:return i.FeeMarketEIP1559Transaction;default:throw new Error("TypedTransaction with ID ".concat(t," unknown"))}},t}();r["default"]=a},63458:function(t,r,e){Object.defineProperty(r,"__esModule",{value:!0}),r.N_DIV_2=r.isAccessList=r.isAccessListBuffer=r.Capability=void 0;var o=e(22751);function n(t){if(0===t.length)return!0;var r=t[0];return!!Array.isArray(r)}function i(t){return!n(t)}(function(t){t[t["EIP155ReplayProtection"]=155]="EIP155ReplayProtection",t[t["EIP1559FeeMarket"]=1559]="EIP1559FeeMarket",t[t["EIP2718TypedTransaction"]=2718]="EIP2718TypedTransaction",t[t["EIP2930AccessLists"]=2930]="EIP2930AccessLists"})(r.Capability||(r.Capability={})),r.isAccessListBuffer=n,r.isAccessList=i,r.N_DIV_2=new o.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16)},82942:function(t,r,e){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessLists=r.checkMaxInitCodeSize=void 0;var o=e(22751),n=e(63458);function i(t,r){if(r>t.param("vm","maxInitCodeSize"))throw new Error("the initcode size of this transaction is too large: it is ".concat(r," while the max is ").concat(t.param("vm","maxInitCodeSize")))}r.checkMaxInitCodeSize=i;var a=function(){function t(){}return t.getAccessListData=function(t){var r,e;if(t&&(0,n.isAccessList)(t)){r=t;for(var i=[],a=0;a<t.length;a++){for(var s=t[a],c=(0,o.toBuffer)(s.address),h=[],u=0;u<s.storageKeys.length;u++)h.push((0,o.toBuffer)(s.storageKeys[u]));i.push([c,h])}e=i}else{e=null!==t&&void 0!==t?t:[];var f=[];for(a=0;a<e.length;a++){var d=e[a],l=(0,o.bufferToHex)(d[0]),p=[];for(s=0;s<d[1].length;s++)p.push((0,o.bufferToHex)(d[1][s]));var v={address:l,storageKeys:p};f.push(v)}r=f}return{AccessListJSON:r,accessList:e}},t.verifyAccessList=function(t){for(var r=0;r<t.length;r++){var e=t[r],o=e[0],n=e[1];if(void 0!==e[2])throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(20!=o.length)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(var i=0;i<n.length;i++)if(32!=n[i].length)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},t.getAccessListJSON=function(t){for(var r=[],e=0;e<t.length;e++){for(var n=t[e],i={address:"0x"+(0,o.setLengthLeft)(n[0],20).toString("hex"),storageKeys:[]},a=n[1],s=0;s<a.length;s++){var c=a[s];i.storageKeys.push("0x"+(0,o.setLengthLeft)(c,32).toString("hex"))}r.push(i)}return r},t.getDataFeeEIP2930=function(t,r){for(var e=r.param("gasPrices","accessListStorageKeyCost"),o=r.param("gasPrices","accessListAddressCost"),n=0,i=0;i<t.length;i++){var a=t[i],s=a[1];n+=s.length}var c=t.length;return c*o+n*e},t}();r.AccessLists=a}}]);