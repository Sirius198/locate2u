"use strict";(self["webpackChunkmun_explorer"]=self["webpackChunkmun_explorer"]||[]).push([[5545],{45545:function(t,e,s){s.r(e),s.d(e,{default:function(){return z}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-md"},[s("b-card",[s("b-row",[s("b-col",[s("b-input-group",[s("b-form-input",{attrs:{placeholder:"Button on both side"},model:{value:t.rpc,callback:function(e){t.rpc=e},expression:"rpc"}}),s("b-input-group-append",[s("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.onchange()}}},[t._v(" Monitor ")])],1)],1)],1)],1),200!==t.httpstatus?s("div",{staticClass:"text-danger"},[t._v(" "+t._s(t.httpstatus)+": "+t._s(t.httpStatusText)+" ")]):t._e()],1),t.roundState["height/round/step"]?s("b-row",[s("b-col",{attrs:{lg:"3",sm:"6"}},[s("dashboard-card-horizontal",{attrs:{icon:"ArrowUpCircleIcon",color:"danger",statistic:t.rate,"statistic-title":"Onboard Rate"}})],1),s("b-col",{attrs:{lg:"3",sm:"6"}},[s("dashboard-card-horizontal",{attrs:{icon:"HashIcon",color:"success",statistic:t.height,"statistic-title":"Height"}})],1),s("b-col",{attrs:{lg:"3",sm:"6"}},[s("dashboard-card-horizontal",{attrs:{icon:"RepeatIcon",statistic:t.round,"statistic-title":"Round"}})],1),s("b-col",{attrs:{lg:"3",sm:"6"}},[s("dashboard-card-horizontal",{attrs:{icon:"CodeIcon",color:"info",statistic:t.step,"statistic-title":"Step"}})],1)],1):t._e(),t.roundState["height/round/step"]?s("b-card",[s("b-card-title",{staticClass:"d-flex justify-content-between"},[s("small",{staticClass:"text-danger"},[t._v("Updated at "+t._s(t.format(t.updatetime)))])]),t._l(t.roundState.height_vote_set,(function(e){return s("div",{key:e.round},[s("small",[t._v("Round: "+t._s(e.round)+" "+t._s(e.prevotes_bit_array))]),s("b-card-body",{staticClass:"px-0"},t._l(e.prevotes,(function(e,a){return s("b-badge",{key:a,staticStyle:{margin:"2px"},attrs:{size:"sm",variant:t.color(a,e)}},[s("small",{staticClass:"small"},[t._v(t._s(t.showName(a,e)))])])})),1)],1)})),s("b-card-footer",[s("b-button",{attrs:{variant:"primary",size:"sm"}}),t._v(" Proposer Signed "),s("b-button",{attrs:{variant:"dark",size:"sm"}}),t._v(" Proposer Not Signed "),s("b-button",{attrs:{variant:"success",size:"sm"}}),t._v(" Signed "),s("b-button",{attrs:{variant:"secondary",size:"sm"}}),t._v(" Not Signed ")],1)],2):t._e(),s("b-alert",{attrs:{variant:"info",show:""}},[s("h4",{staticClass:"alert-heading"},[t._v(" Tips ")]),s("div",{staticClass:"alert-body"},[s("ul",[s("li",[t._v("This tool is useful for validators to monitor who is onboard during an upgrade")]),s("li",[t._v('If you want to change the default rpc endpoint. make sure that "https" and "CORS" are enabled on your server.')])])])])],1)},i=[],r=(s(74916),s(15306),s(23123),s(41539),s(54747),s(9653),s(56977),s(21249),s(69826),s(82526),s(41817),s(23157),s(73106)),n=s(26034),o=s(26253),c=s(50725),u=s(8775),l=s(40670),d=s(37674),h=s(4060),p=s(22183),v=s(22418),f=s(15193),b=s(47389),m=s(49379),_=s(83300),g=s.n(_),y=s(54333),x=s(19938),S=s.n(x),C=s(14392),w={components:{BAlert:r.F,BBadge:n.k,BRow:o.T,BCol:c.l,BCard:u._,BCardBody:l.O,BCardFooter:d.F,BInputGroup:h.w,BFormInput:p.e,BInputGroupAppend:v.B,BButton:f.T,BAvatar:b.SH,BCardTitle:m._,vSelect:S(),DashboardCardHorizontal:C.Z},data:function(){var t=(0,y.getLocalChains)();return{showPrevote:!1,httpstatus:200,httpStatusText:"",roundState:{},chains:t,vals:[],positions:[],updatetime:new Date,rpc:"",height:"-",round:"-",step:"-",rate:"-"}},computed:{selected:function(){return this.$store.state.chains.selected.chain_name}},created:function(){this.validators(),this.rpc="".concat(this.chains[this.selected].rpc[0],"/consensus_state"),this.fetchPosition(),this.update(),this.timer=setInterval(this.update,6e3)},beforeDestroy:function(){clearInterval(this.timer)},methods:{format:function(t){return(0,y.toDay)(t,"time")},color:function(t,e){return t===this.roundState.proposer.index?"nil-Vote"===e?"dark":"primary":"nil-Vote"===e?"secondary":"success"},fetchPosition:function(){var t=this,e=this.rpc.replace("consensus_state","dump_consensus_state");g()(e).then((function(e){return t.httpstatus=e.status,t.httpStatusText=e.httpStatusText,e.json()})).then((function(e){t.positions=e.result.round_state.validators.validators}))},update:function(){var t=this;this.rate="0%",this.updatetime=new Date,200===this.httpstatus&&g()(this.rpc).then((function(e){return t.httpstatus=e.status,t.httpStatusText=e.httpStatusText,e.json()})).then((function(e){t.roundState=e.result.round_state;var s=t.roundState["height/round/step"].split("/");t.height=s[0],t.round=s[1],t.step=s[2],t.roundState.height_vote_set.forEach((function(e){var s=Number(e.prevotes_bit_array.substring(e.prevotes_bit_array.length-4));s>0&&(t.rate="".concat((100*s).toFixed(),"%"))}))})).catch((function(e){t.httpstatus=500,t.httpStatusText=e}))},validators:function(){var t=this,e=this.chains[this.selected],s=[];this.$http.getValidatorList(e).then((function(t){s=t})).catch((function(){s=(0,y.getCachedValidators)(t.selected.chain_name)||[]})).finally((function(){t.vals=s.map((function(t){var e=t;return e.hex=(0,y.consensusPubkeyToHexAddress)(t.consensus_pubkey),e}))}))},onchange:function(){this.httpstatus=200,this.httpStatusText="",this.roundState={}},showName:function(t,e){var s,a=this;if("nil-Vote"===e){if(this.positions[t]){var i,r=this.vals.find((function(e){return e.hex===a.positions[t].address}));return(null===r||void 0===r||null===(i=r.description)||void 0===i?void 0:i.moniker)||t}return t}var n=e.substring(e.indexOf(":")+1,e.indexOf(" ")),o=this.vals.find((function(t){return t.hex.startsWith(n)}));return(null===o||void 0===o||null===(s=o.description)||void 0===s?void 0:s.moniker)||n}}},B=w,T=s(1001),k=(0,T.Z)(B,a,i,!1,null,null,null),z=k.exports},14392:function(t,e,s){s.d(e,{Z:function(){return v}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{attrs:{"no-body":""}},[s("b-card-body",{staticClass:"d-flex justify-content-between align-items-center"},[s("div",{staticClass:"truncate"},[s("h4",{staticClass:"mb-25 font-weight-bolder"},[t._v(" "+t._s(t.statistic||"-")+" ")]),t.statistic&&"-"!==t.statistic?0===t.changes?s("span",[t._v(" "+t._s(t.showPrice(t.statistic,t.statisticTitle))+" ")]):t.changes<0?s("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-danger",modifiers:{hover:!0,"v-danger":!0}}],staticClass:"text-danger",attrs:{title:t.changes.toFixed(1)+"%"}},[t._v(" "+t._s(t.showPrice(t.statistic,t.statisticTitle))+" ")]):s("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-success",modifiers:{hover:!0,"v-success":!0}}],staticClass:"text-success",attrs:{title:"+"+t.changes.toFixed(1)+"%"}},[t._v(" "+t._s(t.showPrice(t.statistic,t.statisticTitle))+" ")]):s("span",[t._v(t._s(t.statisticTitle))])]),s("b-avatar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"light-"+t.color,size:"45",text:t.statisticTitle.substring(0,1),title:t.statisticTitle}})],1)],1)},i=[],r=(s(9653),s(74916),s(23123),s(92222),s(56977),s(15306),s(68757),s(8775)),n=s(40670),o=s(47389),c=s(5870),u=s(54333),l={components:{BCard:r._,BCardBody:n.O,BAvatar:o.SH,VBTooltip:c.o},directives:{"b-tooltip":c.o},props:{icon:{type:String,required:!0},statistic:{type:[Number,String],required:!0},statisticTitle:{type:String,default:""},color:{type:String,default:"primary"}},data:function(){return{changes:0}},methods:{showPrice:function(t,e){var s=String(t).split(" ");if(s.length>=2){var a=this.$store.state.chains.quotes[s[1]];if(a){var i=a[(0,u.getUserCurrency)()];return this.changes=a["".concat((0,u.getUserCurrency)(),"_24h_change")],"".concat((0,u.getUserCurrencySign)()).concat((Number(s[0].replaceAll(",",""))*i).toFixed(2))}}return e}}},d=l,h=s(1001),p=(0,h.Z)(d,a,i,!1,null,null,null),v=p.exports}}]);