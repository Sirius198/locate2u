"use strict";(self["webpackChunkblu_explorer"]=self["webpackChunkblu_explorer"]||[]).push([[3958],{53958:function(t,e,r){r.r(e),r.d(e,{default:function(){return y}});var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-card",[r("b-card-title",{staticClass:"d-flex justify-content-between"},[r("span",[t._v("#"+t._s(t.height))]),r("span",[r("b-button",{attrs:{size:"sm"},on:{click:function(e){return t.goblock(t.height-1)}}},[t._v(" < ")]),t._v(" "),r("b-button",{attrs:{size:"sm"},on:{click:function(e){t.goblock(Number(t.height)+1)}}},[t._v(" > ")])],1)]),r("object-field-component",{attrs:{tablefield:t.block.block_id}})],1),r("b-card",{attrs:{title:"Block Header"}},[r("object-field-component",{attrs:{tablefield:t.block.block.header}})],1),t.block.block.data.txs?r("b-card",{attrs:{title:"Transaction"}},[r("b-table",{attrs:{items:t.txs,fields:t.fields,responsive:"sm"},scopedSlots:t._u([{key:"cell(hash)",fn:function(e){return[r("router-link",{attrs:{to:"../tx/"+e.value}},[t._v(" "+t._s(e.value)+" ")])]}}],null,!1,3589811377)})],1):t._e(),t.block.block.evidence.evidence?r("b-card",{attrs:{title:"Evidence"}},[r("array-field-component",{attrs:{tablefield:t.block.block.evidence.evidence}})],1):t._e(),r("b-card",{attrs:{title:"Last Commit"}},[r("object-field-component",{attrs:{tablefield:t.block.block.last_commit,small:!0}})],1)],1)},s=[],n=r(15193),i=r(8775),o=r(67566),l=r(49379),c=r(28972),d=r(74087),u=r(97826),b=r(54333),m=r(49376),f=r(9644),h={components:{BButton:n.T,BCard:i._,BTable:o.h,BCardTitle:l._,ObjectFieldComponent:m.Z,ArrayFieldComponent:f.Z},beforeRouteUpdate(t,e,r){const{height:a}=t.params;a>0&&a!==e.params.height&&(this.initData(a),r())},data(){return{block:{block:{header:{},data:{},evidence:{}}},txs:null,height:0,fields:[{key:"hash"},{key:"fee",formatter:t=>(0,b.tokenFormatter)(t)},{key:"messages",formatter:t=>(0,b.abbrMessage)(t)},{key:"memo"}]}},created(){const{height:t}=this.$route.params;this.initData(t)},methods:{initData(t){this.height=t,this.$http.getBlockByHeight(t).then((t=>{this.block=t;const{txs:e}=t.block.data;if(null===e)return;const r=[];for(let s=0;s<e.length;s+=1){let t=new u.Z;try{const r=(0,d.decodeTxRaw)((0,c.fromBase64)(e[s]));t=u.Z.create(r)}catch(a){}t.setHash(e[s]),r.push(t)}r.length>0&&(this.txs=r)}))},goblock(t){this.$router.push({name:"block",params:{height:t}})}}},p=h,k=r(1001),v=(0,k.Z)(p,a,s,!1,null,null,null),y=v.exports},9644:function(t,e,r){r.d(e,{Z:function(){return u}});var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return Array.isArray(t.items)?r("b-table",{staticClass:"ml-0 mr-0 dataview text-nowrap",attrs:{items:t.items,"sticky-header":!0,"no-border-collapse":!0,responsive:"md"},scopedSlots:t._u([{key:"cell()",fn:function(e){return[t.isTokenField(e.value)?r("span",[t._v(t._s(t.formatTokens(e.value)))]):t.isHex(e.value)?r("span",[t._v(t._s(t.formatHexAddress(e.value)))]):t.isArrayText(e.value)?r("array-field-component",{attrs:{tablefield:t.eval_value(e.value)}}):r("span",{attrs:{title:e.value}},[t._v(t._s(t.formatText(e.value)))])]}}],null,!1,3233310829)}):t._e()},s=[],n=r(67566),i=r(54333),o={name:"ArrayFieldComponent",components:{BTable:n.h},props:{tablefield:{type:[Array,Object],default:()=>[]}},computed:{items(){return this.tablefield.length>0&&"string"===typeof this.tablefield[0]?this.tablefield.map((t=>({array:t}))):this.tablefield}},methods:{eval_value(t){return"string"===typeof t?JSON.parse(t):t},isTokenField(t){return(0,i.isToken)(t)},isArrayText(t){const e=String(t).startsWith("[")&&String(t).endsWith("]");return e},formatText(t){const e=/^\d{4}.\d{1,2}.\d{1,2}T\d{2}:\d{2}:.+Z$/,r=/^0\.\d+/;return e.test(t)?(0,i.toDay)(t):r.test(t)?`${(0,i.percent)(t)}%`:t},formatTokens(t){return(0,i.tokenFormatter)(t)},isHex(t){return(0,i.isHexAddress)(t)},formatHexAddress(t){return(0,i.getStakingValidatorByHex)(this.$http.config.chain_name,t)}}},l=o,c=r(1001),d=(0,c.Z)(l,a,s,!1,null,"3a881559",null),u=d.exports},49376:function(t,e,r){r.d(e,{Z:function(){return y}});var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return"object"===typeof t.tablefield?r("b-table-simple",{attrs:{hover:"",small:t.small,striped:"",stacked:"sm",responsive:"sm"}},[r("b-tbody",t._l(t.tablefield,(function(e,a){return r("b-tr",{key:a},[r("b-td",{staticStyle:{"text-transform":"capitalize","vertical-align":"top"}},[t._v(" "+t._s(t.formatTitle(a))+" ")]),t.isTokenField(e)?r("b-td",[t._v(" "+t._s(t.formatTokens(e))+" ")]):t.isArrayText(e)?r("b-td",[t._v(" "+t._s(e.join(", "))+" ")]):t.isHex(e)?r("b-td",[t._v(" "+t._s(t.formatHexAddress(e))+" ")]):Array.isArray(e)?r("b-td",[r("array-field-component",{attrs:{tablefield:e}})],1):"object"===typeof e?r("b-td",{staticClass:"overflow-hidden",attrs:{hover:""}},[e?r("b-tabs",{attrs:{small:""}},t._l(Object.keys(e),(function(a){return r("b-tab",{key:a,staticClass:"p-0",attrs:{title:t.formatTitle(a),"title-item-class":"bg-light-primary text-capitalize"}},[Array.isArray(e[a])?r("array-field-component",{attrs:{tablefield:e[a]}}):"object"===typeof e[a]?r("object-field-component",{attrs:{tablefield:e[a]}}):t.isObjectText(e[a])?r("object-field-component",{attrs:{tablefield:t.toObject(e[a])}}):r("div",{staticStyle:{"max-width":"800px","max-height":"300px",overflow:"auto"}},[t._v(t._s(e[a]))])],1)})),1):t._e()],1):r("b-td",["description"===a?r("VueMarkdown",[t._v(" "+t._s(t.addNewLine(e))+" ")]):r("div",{staticStyle:{"max-width":"800px","max-height":"300px",overflow:"auto"}},[t._v(t._s(e))])],1)],1)})),1)],1):t._e()},s=[],n=r(85589),i=r(92095),o=r(66456),l=r(58887),c=r(10216),d=r(80560),u=r(54333),b=r(89296),m=r.n(b),f=r(9644),h={name:"ObjectFieldComponent",components:{BTableSimple:n.t,BTr:i.G,BTd:o.S,BTabs:l.M,BTab:c.L,BTbody:d.p,ArrayFieldComponent:f.Z,VueMarkdown:m()},props:{tablefield:{type:[Array,Object],default:()=>{}},small:{type:Boolean,default:!0}},data(){return{options:{markdownIt:{linkify:!0},linkAttributes:{attrs:{target:"_blank",rel:"noopener"}}}}},methods:{formatObject(t){return t},formatTitle:t=>String(t).replaceAll("_"," "),isObjectText(t){return String(t).startsWith("{")&&String(t).endsWith("}")},toObject(t){return JSON.parse(t)},formatText:t=>(0,u.abbr)(t,60),eval_value(t){return Array.from(t)},isTokenField(t){return!!t&&(0,u.isToken)(t)},isHex(t){return!!t&&(0,u.isHexAddress)(t)},formatHexAddress(t){return(0,u.getStakingValidatorByHex)(this.$http.config.chain_name,t)},isArrayText(t){return!!t&&(0,u.isStringArray)(t)},formatTokens(t){return(0,u.tokenFormatter)(t)},addNewLine(t){const e=/^0\.\d+/;return e.test(t)?`${(0,u.percent)(t)}%`:t?t.replace(/(?:\\[rn])+/g,"\n"):"-"}}},p=h,k=r(1001),v=(0,k.Z)(p,a,s,!1,null,"08f8a3cd",null),y=v.exports},97826:function(t,e,r){r.d(e,{Z:function(){return i}});var a=r(79562),s=r(28972),n=r(62173);class i{constructor(){this.hash="",this.fee=[new n.Z],this.memo="",this.messages=[],this.signatures=[],this.time=null}static create(t){const e=new i;return e.hash="",e.fee=t.authInfo.fee.amount,e.memo=t.body.memo,e.messages=t.body.messages,e.signatures=t.signatures,e}setHash(t){this.hash=(0,s.toHex)((0,a.sha256)((0,s.fromBase64)(t))).toUpperCase()}}}}]);