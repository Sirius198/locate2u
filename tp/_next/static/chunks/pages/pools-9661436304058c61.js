(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[551],{22911:function(e,r,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pools",function(){return o(69094)}])},69094:function(e,r,o){"use strict";o.r(r),o.d(r,{default:function(){return m}});var t=o(14924),i=o(828),n=o(85893),a=o(3413),s=o(13838),l=o(80975),d=o(67294),u=o(54021);var c=o(21006),p=o(81653);function m(){var e=(0,c.r)().data,r=(0,i.Z)(function(e){var r=(0,d.useMemo)((function(){var r=e.some((function(e){var r=e.isLoading,o=e.data;return r&&!o})),o=e.some((function(e){return e.isError})),t=e.map((function(e){return e.data}));return[t.includes(void 0)?void 0:t,r,o]}),[e]),o=r[0],t=r[1],i=r[2];return[(0,l.tN)((null===o||void 0===o?void 0:o[0])?o:void 0),t,i]}((0,p.gp)({refetchInBackground:!1,pools:null===e||void 0===e?void 0:e.pools})),3),o=r[0],t=r[1],u=r[2],m=v(),f=m.sortDirection,h=m.sortParameter,y=m.setSortDirection,x=m.setSortParameter,j=(0,i.Z)((0,s.pc)({pools:o,sortBy:(0,d.useMemo)((function(){return{parameter:h,direction:f}}),[h,f])}),2),k=j[0],w=j[1],P=t&&!(null===o||void 0===o?void 0:o.length),_=Boolean(null===o||void 0===o?void 0:o.length),b=(0,n.jsx)(a.mr,{title:"Liquidity",subtitle:"Provide liquidity to the market and receive swap fees from each trade."});return u?(0,n.jsxs)(a.LN,{children:[b,(0,n.jsx)(l.sg,{justifyContent:"center",align:"center",css:{paddingTop:"$24"},children:(0,n.jsxs)(l.gF,{gap:2,children:[(0,n.jsx)(l.Pz,{color:"error"}),(0,n.jsx)(l.xv,{variant:"primary",children:"Oops, we've messed up querying the pools. Please come back later."})]})})]}):(0,n.jsxs)(a.LN,{children:[b,P&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.sg,{justifyContent:"center",align:"center",css:{paddingTop:"$24"},children:(0,n.jsx)(l.$j,{size:32,color:"primary"})})}),_&&(0,n.jsxs)(n.Fragment,{children:[Boolean(null===k||void 0===k?void 0:k.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.xv,{variant:"primary",css:{paddingBottom:"$11"},children:"Your Liquidity Pools"}),(0,n.jsx)(g,{children:k.map((function(e){var r=e.liquidity,o=e.pool_id,t=(0,i.Z)(e.pool_assets,2),a=t[0],l=t[1],d=e.rewards_tokens;return(0,n.jsx)(s.AP,{tokenASymbol:a.symbol,poolId:o,rewardsTokens:d,tokenBSymbol:l.symbol,providedTotalLiquidity:r.providedTotal,stakedLiquidity:r.staked,availableLiquidity:r.available,aprValue:r.rewards.annualYieldPercentageReturn},o)}))}),Boolean(null===w||void 0===w?void 0:w.length)&&(0,n.jsxs)(l.gF,{gap:4,css:{paddingTop:"$19",paddingBottom:"$11"},children:[(0,n.jsxs)(l.xv,{variant:"primary",children:[w.length," Other Pools"]}),(0,n.jsx)(s.cJ,{sortParameter:h,sortDirection:f,onSortParameterChange:x,onSortDirectionChange:y})]})]}),(0,n.jsx)(g,{children:null===w||void 0===w?void 0:w.map((function(e){var r=e.liquidity,o=e.pool_id,t=(0,i.Z)(e.pool_assets,2),a=t[0],l=t[1];return(0,n.jsx)(s.AP,{tokenASymbol:a.symbol,poolId:o,tokenBSymbol:l.symbol,providedTotalLiquidity:r.providedTotal,stakedLiquidity:r.staked,availableLiquidity:r.available,aprValue:r.rewards.annualYieldPercentageReturn},o)}))})]})]})}var v=function(){var e="@pools/sort/parameter",r="@pools/sort/direction",o=(0,d.useState)((function(){return localStorage.getItem(e)||"liquidity"})),t=o[0],i=o[1],n=(0,d.useState)((function(){return localStorage.getItem(r)||"desc"})),a=n[0],s=n[1];return(0,u.Z)((function(){localStorage.setItem(e,t)}),[t]),(0,u.Z)((function(){localStorage.setItem(r,a)}),[a]),{sortDirection:a,sortParameter:t,setSortDirection:s,setSortParameter:i}},g=(0,l.zo)("div",(0,t.Z)({display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",columnGap:"$8",rowGap:"$8","@media (max-width: 1550px)":{gridTemplateColumns:"1fr 1fr 1fr"},"@media (max-width: 1360px)":{gridTemplateColumns:"1fr 1fr",columnGap:"$10",rowGap:"$12"}},l.BC.sm,{gridTemplateColumns:"1fr",rowGap:"$8"}))}},function(e){e.O(0,[78,714,631,506,399,702,298,838,774,888,179],(function(){return r=22911,e(e.s=r);var r}));var r=e.O();_N_E=r}]);