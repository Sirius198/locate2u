(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[307],{11464:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/token/create",function(){return t(56983)}])},56983:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var r=t(29815),s=t(85893),a=t(3413),i=t(80975),o=t(67294),c=t(47568),l=t(26042),u=t(34051),d=t.n(u),x=t(88767),f=t(4480),g=t(78284),h=t(8552),v=function(){var e=(0,c.Z)(d().mark((function e(n){var t,r,s,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.msg,r=n.senderAddress,s=n.client,a=Number(h.Rs),"MunSwap-CW20-Label",e.next=5,s.instantiate(r,a,t,"MunSwap-CW20-Label","auto");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=t(76910),j=t(86501),p=function(e){var n=e.isShowing,t=e.address;return(0,s.jsxs)(i.Vq,{isShowing:n,onRequestClose:null,children:[(0,s.jsx)(i.fK,{paddingBottom:"$13",children:(0,s.jsx)(i.xv,{variant:"header",children:"New Token has instantiated"})}),(0,s.jsxs)(i.cZ,{children:[(0,s.jsx)(i.xv,{variant:"header",children:"Contract address"}),(0,s.jsx)(i.xv,{variant:"header",children:t})]})]})},y=(0,i.zo)("section",{paddingBottom:"$17"}),C=(0,i.zo)("input",{border:"1px solid",padding:"$3 $5",marginBottom:"$5",marginTop:"$2",borderColor:"$borderColors$default",color:"$textColors$primary",fontSize:"14px"}),b=function(){var e=(0,o.useState)(""),n=e[0],t=e[1],u=(0,o.useState)(""),h=u[0],b=u[1],w=(0,o.useState)(""),k=w[0],N=w[1],S=(0,o.useState)([{address:"",amount:""}]),$=S[0],F=S[1],_=(0,o.useState)(""),D=_[0],B=_[1],Z=(0,o.useState)(""),z=Z[0],A=Z[1],E=(0,o.useState)(""),P=E[0],L=E[1],W=(0,o.useState)(""),M=W[0],T=W[1],I=(0,o.useState)(""),O=I[0],R=I[1],U=(0,o.useState)(""),Y=U[0],q=U[1],X=function(e){var n=e.name,t=e.symbol,r=e.decimals,a=e.initialBalances,o=e.minterAddress,u=e.cap,h=e.project,p=e.desc,y=e.marketing,C=e.logoUrl,b=(0,f.sJ)(g.Zc),w=b.client,k=b.address,N=b.status,S=(0,f.Zl)(m.c);return(0,x.useMutation)("instantiateContract",(0,c.Z)(d().mark((function e(){var s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N===g.Hm.connected){e.next=2;break}throw new Error("Please connect your wallet.");case 2:return S(m.L.EXECUTING),s=(0,l.Z)({name:n,symbol:t,decimals:r,initial_balances:a},""!=o&&{mint:{minter:o,cap:u}},""!=h&&{marketing:{project:h,description:p,logo:C,marketing:y}}),e.next=6,v({msg:s,senderAddress:k,client:w});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),{onSuccess:function(e){var n=e.contractAddress;console.log("success address:",n),j.ZP.custom((function(e){return(0,s.jsx)(i.FN,{icon:(0,s.jsx)(i.a1,{icon:(0,s.jsx)(i.An,{}),color:"primary"}),title:"New token has created",body:"Contract Address: ".concat(n),onClose:function(){return j.ZP.dismiss(e.id)}})}))},onError:function(e){var n=(0,i.qS)(e);j.ZP.custom((function(e){return(0,s.jsx)(i.FN,{icon:(0,s.jsx)(i.Pz,{color:"error"}),title:"Oops CW20 instantiate error!",body:n,buttons:(0,s.jsx)(i.zx,{as:"a",variant:"ghost",href:"http://discord.gg/mun",target:"__blank",iconRight:(0,s.jsx)(i.fu,{}),children:"Provide feedback"}),onClose:function(){return j.ZP.dismiss(e.id)}})}))},onSettled:function(){S(m.L.IDLE)}})}({name:n,symbol:h,decimals:Number(k),initialBalances:$,minterAddress:D,cap:z,project:P,desc:M,marketing:O,logoUrl:Y}),G=X.mutate,H=X.isLoading,J=function(){F((0,r.Z)($).concat([{address:"",amount:""}]))},K=function(e,n,t){var s=(0,r.Z)($);"address"==n?s[e].address=t:s[e].amount=t,F(s)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(a.LN,{children:[(0,s.jsxs)(y,{children:[(0,s.jsx)(a.mr,{title:"CW20 Base Contract",subtitle:"CW20 Base is a specification for fungible tokens based on CosmWasm."}),(0,s.jsxs)(i.gF,{css:{display:"flex",gap:"$5"},align:"flex-start",children:[(0,s.jsxs)(i.gF,{align:"flex-start",css:{flexDirection:"column",flex:"4"},children:[(0,s.jsx)(i.xv,{children:"Contract Details"}),(0,s.jsx)(i.xv,{variant:"secondary",children:"Basic information about your new contract"})]}),(0,s.jsxs)(i.gF,{align:"flex-start",css:{flexDirection:"column",flex:"8"},children:[(0,s.jsx)(i.xv,{children:"Name *"}),(0,s.jsx)(C,{type:"text",value:n,onChange:function(e){return t(e.target.value)}}),(0,s.jsx)(i.xv,{children:"Symbol *"}),(0,s.jsx)(C,{type:"text",value:h,onChange:function(e){return b(e.target.value)}}),(0,s.jsx)(i.xv,{children:"Decimals *"}),(0,s.jsx)(C,{type:"text",value:k,onChange:function(e){return N(e.target.value)}}),(0,s.jsx)(i.xv,{children:"Initial Balances *"}),(0,s.jsx)(i.xv,{variant:"secondary",css:{marginBottom:"$5"},children:"Enter at least one wallet address and initial balance"}),$.map((function(e,n){return(0,s.jsxs)(i.gF,{css:{gap:"$3"},align:"flex-end",children:[(0,s.jsxs)(i.gF,{style:{flexDirection:"column"},align:"flex-start",children:[(0,s.jsx)(i.xv,{children:"Wallet Address"}),(0,s.jsx)(C,{value:e.address,onChange:function(e){return K(n,"address",e.target.value)}})]}),(0,s.jsxs)(i.gF,{style:{flexDirection:"column"},align:"flex-start",children:[(0,s.jsx)(i.xv,{children:"Balance"}),(0,s.jsx)(C,{value:e.amount,onChange:function(e){return K(n,"balance",e.target.value)}})]}),n==$.length-1?(0,s.jsx)(i.zx,{variant:"secondary",css:{marginBottom:"$5"},icon:(0,s.jsx)(i.pO,{}),onClick:J}):(0,s.jsx)(i.zx,{variant:"secondary",css:{marginBottom:"$5"},onClick:function(){return function(e){var n=(0,r.Z)($);n.splice(e,1),F(n)}(n)},children:"-"})]},n)}))]})]}),(0,s.jsx)(i.iz,{offsetY:"$10"}),(0,s.jsxs)(i.gF,{css:{display:"flex",gap:"$5"},align:"flex-start",children:[(0,s.jsxs)(i.gF,{align:"flex-start",css:{flexDirection:"column",flex:"4"},children:[(0,s.jsx)(i.xv,{children:"Minting Details"}),(0,s.jsx)(i.xv,{variant:"secondary",children:"Your new contract minting rules"})]}),(0,s.jsxs)(i.gF,{align:"flex-start",css:{flexDirection:"column",flex:"8"},children:[(0,s.jsx)(i.xv,{children:"Minter Address"}),(0,s.jsx)(C,{type:"text",value:D,onChange:function(e){return B(e.target.value)}}),(0,s.jsx)(i.xv,{children:"Cap"}),(0,s.jsx)(C,{type:"text",value:z,onChange:function(e){return A(e.target.value)}})]})]}),(0,s.jsx)(i.iz,{offsetY:"$10"}),(0,s.jsxs)(i.gF,{css:{display:"flex",gap:"$5"},align:"flex-start",children:[(0,s.jsxs)(i.gF,{align:"flex-start",css:{flexDirection:"column",flex:"4"},children:[(0,s.jsx)(i.xv,{children:"Marketing Details"}),(0,s.jsx)(i.xv,{variant:"secondary",children:"Public metadata for your new contract"})]}),(0,s.jsxs)(i.gF,{align:"flex-start",css:{flexDirection:"column",flex:"8"},children:[(0,s.jsx)(i.xv,{children:"Project"}),(0,s.jsx)(C,{type:"text",value:P,onChange:function(e){return L(e.target.value)}}),(0,s.jsx)(i.xv,{children:"Description"}),(0,s.jsx)(C,{type:"text",value:M,onChange:function(e){return T(e.target.value)}}),(0,s.jsx)(i.xv,{children:"Wallet Address (marketing)"}),(0,s.jsx)(C,{type:"text",value:O,onChange:function(e){return R(e.target.value)}}),(0,s.jsx)(i.xv,{children:"Logo URL"}),(0,s.jsx)(C,{type:"text",value:Y,onChange:function(e){return q(e.target.value)}})]})]}),(0,s.jsx)(i.iz,{offsetY:"$10"}),(0,s.jsx)("div",{style:{textAlign:"right"},children:(0,s.jsx)(i.zx,{disabled:!function(){if(H)return!1;if(""==n||""==h||""==k||0==Number(k)||isNaN(Number(k)))return!1;var e=!0,t=!1,r=void 0;try{for(var s,a=$[Symbol.iterator]();!(e=(s=a.next()).done);e=!0){var i=s.value;if(""==i.address||""==i.amount||isNaN(Number(i.amount)))return!1}}catch(o){t=!0,r=o}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}return!0}(),css:{marginLeft:"auto"},onClick:function(){H||G()},children:"Instantiate Contract"})})]}),(0,s.jsx)(p,{isShowing:!1,address:"123"})]})})}}},function(e){e.O(0,[78,714,631,506,399,702,774,888,179],(function(){return n=11464,e(e.s=n);var n}));var n=e.O();_N_E=n}]);